<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Budget Entry Form</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 40px; }
    form { max-width: 400px; margin: auto; }
    input, button { width: 100%; padding: 10px; margin: 10px 0; }
    #logout { margin-top: 20px; background: #f44336; color: white; border: none; }
  </style>
</head>
<body>
  <h2>Enter Your Budget Details</h2>
  <p id="welcome"></p>
  
  <form id="budget-form">
    <input type="text" id="category" placeholder="Category (e.g. Food)" required />
    <input type="number" id="amount" placeholder="Amount" required />
    <button type="submit">Submit</button>
  </form>

  <button id="logout">Logout</button>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <script>
    // Firebase configuration (same as login.html)
// Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyC1DOQF-58tc2FkLk4LJ8sW7wabb4mOq94",
    authDomain: "budget-tracker-bf734.firebaseapp.com",
    projectId: "budget-tracker-bf734",
    storageBucket: "budget-tracker-bf734.firebasestorage.app",
    messagingSenderId: "252573094881",
    appId: "1:252573094881:web:ad39c79c7c6a1571c3b8a0"
  };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Wait for auth state to load
    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById('welcome').textContent = `Welcome, ${user.email}`;
      } else {
        window.location.href = "login.html"; // Redirect if not logged in
      }
    });

    // Handle form submission (you’ll add Google Sheets logic here in Phase IV)
    document.getElementById('budget-form').addEventListener('submit', e => {
      e.preventDefault();
      const category = document.getElementById('category').value;
      const amount = document.getElementById('amount').value;
      alert(`Category: ${category}, Amount: ₹${amount} (submission logic coming soon)`);
    });

    // Logout button
    document.getElementById('logout').addEventListener('click', () => {
      auth.signOut().then(() => {
        window.location.href = "login.html";
      });
    });
  </script>
</body>
</html>
